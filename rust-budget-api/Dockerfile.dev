FROM rust

WORKDIR /usr/src/app

# Install live reload tool
RUN cargo install cargo-watch --locked

COPY rust-budget-api/ ./

COPY ./docs/openapi.yaml .

RUN cargo build

# Watch changes on source files and quietly execute cargo run on file changes
CMD ["cargo", "watch", "-q", "-x", "run"]
